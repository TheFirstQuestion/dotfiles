- defaults:
    link:
      create: true
      relink: true
      force: true

- clean: ["~"]

# These are all symlinks -- so changes in this directory are live
- link:
    # Shell stuff
    ~/.zshrc:
      path: zsh/zshrc
    ~/.p10k.zsh:
      path: zsh/p10k.zsh
    ~/.config/terminator/config:
      path: zsh/terminator-config

    ~/.gitconfig:
      path: git/gitconfig
    ~/.ssh/config:
      path: ssh/config
    ~/.condarc: conda/condarc

    # Atom
    ~/.atom/config.cson:
      path: atom/config.cson
    ~/.atom/styles.less:
      path: atom/styles.less
    ~/.atom/snippets.cson:
      path: atom/snippets.cson

    # VS Code (Mac)
    # ~/Library/Application Support/Code/User/settings.json:
    #   path: vscode/settings.json
    # ~/Library/Application Support/Code/User/snippets/global.code-snippets:
    #   path: vscode/global.code-snippets
    # ~/Library/Application Support/Code/User/snippets/python.json:
    #   path: vscode/python.json
    # ~/Library/Application Support/Code/User/snippets/shellscript.json:
    #   path: vscode/shellscript.json
    #

    # Prettier
    ~/.prettierrc.js:
      path: prettier/prettierrc.js
    ~/.prettierrc.yaml:
      path: prettier/prettierrc.yaml

    # i3
    ~/.config/i3/config:
      path: i3/i3-config
    # Rofi
    ~/.config/rofi/config.rasi:
      path: rofi/config.rasi
    # xbindkeys (custom keyboard shortcuts)
    ~/.xbindkeysrc:
      path: i3/xbindkeys
    

    # Polybar
    ~/.config/polybar/config.ini:
      path: polybar/config.ini
    ~/.config/polybar/launch.sh:
      path: polybar/launch.sh

    # feh (wallpaper)
    ~/.fehbg:
      path: theme-files/fehbg

    # Autorandr
    ~/.config/autorandr:
      path: autorandr
      create: true

    # Templates
    ~/Templates/README.md:
      path: templates/README
    ~/Templates/.gitignore:
      path: templates/gitignore
    ~/Templates/.env.local:
      path: templates/env

    # Firefox
    ~/.mozilla/firefox/0uo64nlk.default-release/chrome/userChrome.css:
      path: firefox/userChrome.css

- shell:
    - command: git submodule update --init --recursive
      description: Installing submodules...
      quiet: true

    - command: scripts/omz-install.sh
      stdin: true
      stdout: true
      description: Ensuring Oh-My-Zsh exists...
      quiet: true

    - command: functions/keybase-log.sh 'dotbotted successfully!'
      description: Logging to Keybase...
      quiet: true
# TODO: run archive-init script
# TODO: ensure mode set correctly for executables
